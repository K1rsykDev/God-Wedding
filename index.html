<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–¢–∞—ó–Ω—Å—Ç–≤–æ —à–ª—é–±—É | GTA 5 RP</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #0e0915;
      --panel: rgba(24, 18, 31, 0.9);
      --gold: #e7c07a;
      --gold-strong: #f4d499;
      --text: #e8e2f0;
      --muted: #bdb4c9;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0; min-height: 100vh;
      font-family: 'Inter', sans-serif;
      color: var(--text);
      background: radial-gradient(circle at 20% 20%, rgba(231,192,122,0.07), transparent 35%),
                  radial-gradient(circle at 80% 0%, rgba(170,132,255,0.12), transparent 35%),
                  radial-gradient(circle at 40% 70%, rgba(231,192,122,0.08), transparent 30%),
                  linear-gradient(135deg, #090610, #140c1c 45%, #0e0915);
    }
    .container { max-width: 1200px; margin:0 auto; padding:48px 18px; }
    .hero { text-align:center; padding:32px 16px; }
    .hero-title {
      display:inline-flex; align-items:center; gap:16px;
      background:rgba(24,18,31,0.6);
      border:1px solid rgba(231,192,122,0.3);
      padding:12px 22px; border-radius:999px;
      font-family:'Cinzel',serif; font-size:1.35rem;
    }
    .hero-title .icon {
      width:26px; height:26px; border-radius:50%;
      background:radial-gradient(circle at 30% 30%, var(--gold-strong), var(--gold));
      display:flex; align-items:center; justify-content:center;
      font-weight:700; color:#1a0f24;
    }
    .layout {
      display:grid; grid-template-columns:1.1fr 0.9fr;
      gap:18px; margin-top:24px;
    }
    @media(max-width:980px){ .layout{grid-template-columns:1fr;} }

    .panel {
      background:var(--panel);
      border-radius:18px;
      border:1px solid rgba(231,192,122,0.25);
      box-shadow:0 18px 42px rgba(0,0,0,0.55);
      overflow:hidden;
    }
    .panel-header {
      padding:18px 22px;
      border-bottom:1px solid rgba(231,192,122,0.16);
      display:flex; justify-content:space-between; align-items:center;
    }
    .panel-title { margin:0; font-family:'Cinzel',serif; color:var(--gold-strong); }
    .badge {
      background:rgba(231,192,122,0.18); color:var(--gold-strong);
      padding:8px 12px; border-radius:14px;
      border:1px solid rgba(231,192,122,0.35);
    }

    form { padding:20px 22px; display:flex; flex-direction:column; gap:16px; }
    label { color:var(--muted); font-size:0.92rem; }
    .input {
      width:100%; padding:12px 14px; border-radius:12px;
      background:rgba(231,192,122,0.04);
      border:1px solid rgba(231,192,122,0.2);
      color:var(--text);
    }
    .input:focus {
      background:rgba(231,192,122,0.07);
      border-color:var(--gold-strong);
      outline:none;
    }

    .row { display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:12px; }

    .file-input {
      border:1px solid rgba(231,192,122,0.35);
      padding:14px 16px; border-radius:14px;
      display:flex; align-items:center; gap:12px;
      background:rgba(231,192,122,0.05);
      cursor:pointer;
    }
    .file-input input { display:none; }
    .file-pill {
      width:26px; height:26px; border-radius:10px;
      background:rgba(231,192,122,0.2);
      display:flex; align-items:center; justify-content:center;
      color:#180f24; font-weight:800;
    }

    .submit {
      margin-top:10px; padding:14px; border-radius:14px;
      background:linear-gradient(135deg,#b07aff,#f4d499);
      border:1px solid rgba(231,192,122,0.4);
      color:#180f24; font-weight:700; cursor:pointer;
    }

    .status { display:none; padding:12px; border-radius:12px; background:rgba(231,192,122,0.07); }
    .status.error {
      border:1px solid #ffb3b3;
      background:rgba(255,99,99,0.08);
    }

    .info { padding:18px 22px; color:var(--muted); }

    footer { text-align:center; padding:28px 12px; color:var(--muted); font-size:0.95rem; }
  </style>
</head>
<body>

<div class="container">
  <div class="hero">
    <div class="hero-title"><span class="icon">‚Ä†</span> –¢–∞—ó–Ω—Å—Ç–≤–æ —à–ª—é–±—É | GTA 5 RP</div>
    <p>–ó–∞–ø–æ–≤–Ω—ñ—Ç—å –∑–∞—è–≤–∫—É ‚Äî –º–∏ –∑–≤‚Äô—è–∂–µ–º–æ—Å—è –∑ –≤–∞–º–∏ —á–µ—Ä–µ–∑ Discord</p>
  </div>

  <div class="layout">
    <!-- –õ—ñ–≤–∞ –ø–∞–Ω–µ–ª—å ‚Äî —Ñ–æ—Ä–º–∞ -->
    <section class="panel">
      <div class="panel-header">
        <h2 class="panel-title">–§–æ—Ä–º–∞ –∑–∞—è–≤–∫–∏</h2>
        <span class="badge">Ceremony</span>
      </div>

      <form id="wedding-form">

        <div>
          <label>NickName —Ç–∞ Static —á–æ–ª–æ–≤—ñ–∫–∞</label>
          <input class="input" id="groom" required placeholder="God Father | #1111">
        </div>

        <div>
          <label>NickName —Ç–∞ Static –∂—ñ–Ω–∫–∏</label>
          <input class="input" id="bride" required placeholder="Diva Maria | #2222">
        </div>

        <div>
          <label>–°–ø–æ—Å—ñ–± –∑–≤‚Äô—è–∑–∫—É –∑ –≤–∞–º–∏ (Discord)</label>
          <input class="input" id="contact" required placeholder="example#0001">
        </div>

        <div class="row">
          <div>
            <label>–î–∞—Ç–∞</label>
            <input class="input" type="date" id="wedding-date" required>
          </div>

          <div>
            <label>–ß–∞—Å</label>
            <input class="input" type="time" id="wedding-time" required>
          </div>
        </div>

        <div>
          <label>–ú—ñ—Å—Ü–µ –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—è (—Å–∫—Ä—ñ–Ω—à–æ—Ç –∑ –º–∞–ø–∏ GTA 5)</label>
          <label class="file-input">
            <input type="file" id="location" accept="image/*" required>
            <span class="file-pill">+</span>
            –î–æ–¥–∞—Ç–∏ —Å–∫—Ä—ñ–Ω—à–æ—Ç
          </label>
        </div>

        <button class="submit" type="submit">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏</button>
        <div id="status" class="status"></div>

      </form>
    </section>

    <!-- –ü—Ä–∞–≤–∞ –ø–∞–Ω–µ–ª—å ‚Äî —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è -->
    <aside class="panel">
      <div class="panel-header">
        <h2 class="panel-title">–¶–µ—Ä–∫–æ–≤–Ω–∏–π —Å—É–ø—Ä–æ–≤—ñ–¥</h2>
        <span class="badge">Discord</span>
      </div>

      <div class="info">
        –ú–∏ –±–ª–∞–≥–æ—Å–ª–æ–≤–∏–º–æ —Å–æ—é–∑ –¥–≤–æ—Ö —Å–µ—Ä–¥–µ—Ü—å —ñ –ø—Ä–æ–≤–µ–¥–µ–º–æ —É—Ä–æ—á–∏—Å—Ç—ñ—Å—Ç—å –∑–∞ —Ü–µ—Ä–∫–æ–≤–Ω–∏–º –∑–≤–∏—á–∞—î–º.
        –ü—ñ—Å–ª—è –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –∑–∞—è–≤–∫–∏ –≤–∞–º –ø—Ä–∏–π–¥–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —É Discord.
      </div>
    </aside>

  </div> <!-- /layout -->
</div> <!-- /container -->

<footer>–∑ –±–ª–∞–≥–æ—Å–ª–æ–≤–µ–Ω–Ω—è–º | –º–∏ —á–µ–∫–∞—î–º–æ –∫–æ–∂–Ω—É –ø–∞—Ä—É</footer>
<script>
  const DISCORD_WEBHOOK =
    "https://discord.com/api/webhooks/1441998164402896908/MAvHd2ksJI7lFfOcFrAzZ1_5xzXJWow14an_Z-0dAcY8HdeM1AAheZbKX1mpXKB_0jEh";

  const form = document.getElementById("wedding-form");
  const statusBox = document.getElementById("status");

  function buildDateTime(date, time) {
    if (!date || !time) return "";
    const d = new Date(`${date}T${time}`);
    if (isNaN(d.getTime())) return "";
    return d.toISOString();
  }

  function formatDateTime(iso) {
    if (!iso) return "–ù–µ –≤–∫–∞–∑–∞–Ω–æ";
    return new Date(iso).toLocaleString("uk-UA", {
      weekday: "long",
      year: "numeric",
      month: "long",
      day: "numeric",
      hour: "2-digit",
      minute: "2-digit",
    });
  }

  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    statusBox.style.display = "none";
    statusBox.classList.remove("error");

    const groom = document.getElementById("groom").value.trim();
    const bride = document.getElementById("bride").value.trim();
    const contact = document.getElementById("contact").value.trim();
    const date = document.getElementById("wedding-date").value;
    const time = document.getElementById("wedding-time").value;
    const fileInput = document.getElementById("location");
    const file = fileInput.files[0];

    if (!file) {
      statusBox.textContent = "–î–æ–¥–∞–π—Ç–µ —Å–∫—Ä—ñ–Ω—à–æ—Ç –º—ñ—Å—Ü—è –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—è.";
      statusBox.classList.add("error");
      statusBox.style.display = "block";
      return;
    }

    const iso = buildDateTime(date, time);
    const prettyDate = formatDateTime(iso);
    const attachmentName = file.name || "wedding-location.png";

    // –ê–≤—Ç–æ-–Ω–æ–º–µ—Ä –∑–∞—è–≤–∫–∏: 001, 002, 003...
    let currentId = Number(localStorage.getItem("weddingRequestId") || "0") + 1;
    localStorage.setItem("weddingRequestId", String(currentId));
    const formattedId = String(currentId).padStart(3, "0");

    const embed = {
      title: `üíç –ó–∞—è–≤–∫–∞ ‚Ññ${formattedId} ‚Ä¢ –¢–∞—ó–Ω—Å—Ç–≤–æ –®–ª—é–±—É`,
      description:
        "–î—è–∫—É—î–º–æ –∑–∞ –∑–≤–µ—Ä–Ω–µ–Ω–Ω—è –¥–æ –Ω–∞—à–æ—ó –¶–µ—Ä–∫–≤–∏.\n" +
        "–ù–∏–∂—á–µ –ø–æ–¥–∞–Ω–æ –ø–æ–≤–Ω—ñ –¥–∞–Ω—ñ –∑–∞—è–≤–∫–∏. –ë–ª–∞–≥–æ—Å–ª–æ–≤–µ–Ω–Ω—è –º–æ–ª–æ–¥—ñ–π –ø–∞—Ä—ñ! ‚ú®\n" +
        "‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ",
      color: 0xe7c07a,
      fields: [
        {
          name: "üë® –ß–æ–ª–æ–≤—ñ–∫",
          value: groom ? `**${groom}**` : "–ù–µ –≤–∫–∞–∑–∞–Ω–æ",
          inline: false,
        },
        {
          name: "üë∞ –ñ—ñ–Ω–∫–∞",
          value: bride ? `**${bride}**` : "–ù–µ –≤–∫–∞–∑–∞–Ω–æ",
          inline: false,
        },
        {
          name: "üìû –ö–æ–Ω—Ç–∞–∫—Ç Discord",
          value: contact ? `**${contact}**` : "–ù–µ –≤–∫–∞–∑–∞–Ω–æ",
          inline: false,
        },
        {
          name: "üìÖ –î–∞—Ç–∞ —Ç–∞ —á–∞—Å —Ü–µ—Ä–µ–º–æ–Ω—ñ—ó",
          value: `**${prettyDate}**`,
          inline: false,
        },
        {
          name: "üìç –ú—ñ—Å—Ü–µ –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—è",
          value: "–°–∫—Ä—ñ–Ω—à–æ—Ç –ø—Ä–∏–∫—Ä—ñ–ø–ª–µ–Ω–æ –Ω–∏–∂—á–µ ‚¨áÔ∏è",
          inline: false,
        },
      ],
      image: { url: `attachment://${attachmentName}` },
      footer: {
        text: "–°–≤—è—Ç–∞ –¶–µ—Ä–∫–≤–∞ UG 5 ‚Ä¢ –¢–∞—ó–Ω—Å—Ç–≤–æ –ª—é–±–æ–≤—ñ üíõ",
      },
      timestamp: iso || new Date().toISOString(),
    };

    const payload = {
      username: "Church Wedding Herald",
      embeds: [embed],
      attachments: [{ id: 0, filename: attachmentName }],
    };

    const formData = new FormData();
    formData.append("payload_json", JSON.stringify(payload));
    formData.append("files[0]", file, attachmentName);

    try {
      const res = await fetch(DISCORD_WEBHOOK + "?wait=true", {
        method: "POST",
        body: formData,
      });

      if (!res.ok) {
        const txt = await res.text();
        throw new Error(`Discord error ${res.status}: ${txt || "–Ω–µ–≤—ñ–¥–æ–º–æ"}`);
      }

      statusBox.textContent =
        "–ó–∞—è–≤–∫–∞ –Ω–∞–¥—ñ—Å–ª–∞–Ω–∞. –û—á—ñ–∫—É–π—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥—å —É Discord.";
      statusBox.classList.remove("error");
      statusBox.style.display = "block";
      form.reset();
    } catch (err) {
      statusBox.textContent = "–ü–æ–º–∏–ª–∫–∞ –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è: " + err.message;
      statusBox.classList.add("error");
      statusBox.style.display = "block";
    }
  });
</script>

</body>
</html>
